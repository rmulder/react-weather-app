(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{61:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(8),c=e(2),o=e(32),a=e(6),u=e.n(a),l=e(9),s=e(7),d=e(0),f=e(3);function p(){var n=Object(f.a)(["\n  max-width: 70vw;\n  margin-bottom: 16px;\n  align-self: center;\n  min-width: 200px;\n"]);return p=function(){return n},n}function h(){var n=Object(f.a)(["\n  margin-right: 16px;\n  @media (max-width: ",") {\n    margin-right: 0;\n    margin-bottom: 16px;\n  }\n  @media (max-width: ",") {\n    margin-top: 16px;\n  }\n"]);return h=function(){return n},n}function j(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return j=function(){return n},n}function b(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 16px;\n  margin-right: 16px;\n  justify-content: space-between;\n  @media (max-width: ",") {\n    flex-direction: row;\n    width: 70vw;\n    margin-bottom: 16px;\n  }\n  @media (max-width: ",") {\n    flex-direction: column;\n    align-items: center;\n    section {\n      &:first-child {\n        margin-bottom: 16px;\n      }\n    }\n  }\n"]);return b=function(){return n},n}function x(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0px;\n  button {\n    margin: 0.3rem;\n    height: 30px;\n  }\n"]);return x=function(){return n},n}function m(){var n=Object(f.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  h4 {\n    color: black;\n    text-align: center;\n    margin: 0 5%;\n    font-weight: 400;\n  }\n"]);return m=function(){return n},n}var g="1026px",v="761px",O=c.c.main(m()),w=c.c.div(x()),y=c.c.div(b(),g,v),C=c.c.div(j()),k=c.c.div(h(),g,v),S=c.c.div(p());function I(){var n=Object(f.a)(["\n  background-color: ",";\n  padding: 12px;\n  text-align: center;\n  color: white;\n  h3 {\n    font-weight: 500;\n  }\n  p {\n    opacity: 0.3;\n  }\n"]);return I=function(){return n},n}var A=c.c.header(I(),(function(n){return n.theme.colors.primary})),T=function(){return Object(r.jsxs)(A,{children:[Object(r.jsx)("h3",{children:"Weather Application"}),Object(r.jsx)("p",{children:"What's the weather like today?"})]})};function H(){var n=Object(f.a)(["\n  padding: 8px;\n  background-color: ",";\n  color: white;\n  small {\n    display: flex;\n    justify-content: center;\n    text-align: center;\n  }\n"]);return H=function(){return n},n}var L=c.c.footer(H(),(function(n){return n.theme.colors.secondary})),V=(new Date).getFullYear(),z=function(){return Object(r.jsx)(L,{children:Object(r.jsxs)("small",{children:["Copyright \xa9 ",V," Weather Application. All Rights Reserved"]})})};function F(){var n=Object(f.a)(["\n  background-color: ",";\n  padding: 5px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  &:hover {\n    opacity: 0.8;\n    background: ",";\n  }\n  transition: ",";\n"]);return F=function(){return n},n}function J(){var n=Object(f.a)(["\n  background-color: ",";\n  opacity: ",";\n  padding: 8px 16px;\n  font-size: 13px;\n  line-height: 1;\n  color: white;\n  border: none;\n  cursor: ",";\n  border-radius: 24px;\n  &:hover {\n    opacity: ",";\n  }\n  transition: ",";\n  pointer-events: ",";\n"]);return J=function(){return n},n}var P=c.c.button(J(),(function(n){var t=n.theme;n.active;return t.colors.primary}),(function(n){return n.active?1:.6}),(function(n){return n.active?"auto":"pointer"}),(function(n){return n.active?null:"0.8"}),(function(n){return n.theme.transitionTime}),(function(n){return n.active?"none":"all"})),W=c.c.button(F(),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.transitionTime})),B=function(n){var t=n.id,e=n.title,i=n.active,c=n.onClick,o=n.withIcon;return o?Object(r.jsx)(W,{onClick:c,id:t,children:o}):Object(r.jsx)(P,{active:i,onClick:c,id:t,children:e})};function N(){var n=Object(f.a)(["\n  display: flex;\n  border-top: 1px solid ",";\n  padding: 8px;\n"]);return N=function(){return n},n}function R(){var n=Object(f.a)(["\n  padding: 8px;\n  display: flex;\n  justify-content: center;\n  input {\n    padding: 8px;\n    width: 90%;\n  }\n"]);return R=function(){return n},n}function E(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 164px;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return E=function(){return n},n}function Y(){var n=Object(f.a)(["\n  padding: 8px;\n  border-bottom: 1px solid ",";\n"]);return Y=function(){return n},n}function D(){var n=Object(f.a)(["\n  padding: 8px;\n  span {\n    opacity: 0.6;\n  }\n"]);return D=function(){return n},n}function G(){var n=Object(f.a)(["\n  padding: 8px;\n  justify-content: left;\n  pointer-events: ",";\n  display: flex;\n  transition: ",";\n  background-color: ",";\n  border-top: 1px solid ",";\n  &:hover {\n    background-color: ",";\n    cursor: ",";\n  }\n  &:first-child {\n    border: none;\n  }\n"]);return G=function(){return n},n}function U(){var n=Object(f.a)(["\n  padding: 12px;\n  text-align: center;\n  border-bottom: 1px solid ",";\n  background-color: #f7f7f7;\n  h4 {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n"]);return U=function(){return n},n}function _(){var n=Object(f.a)(["\n  width: 260px;\n  border: 1px "," solid;\n  color: black;\n  max-height: 273px;\n"]);return _=function(){return n},n}var q="#e2e8f0",K=c.c.section(_(),q),M=c.c.div(U(),q),Q=c.c.div(G(),(function(n){return n.selected?"none":"all"}),(function(n){return n.theme.transitionTime}),(function(n){var t=n.theme;return n.selected?t.colors.primary:null}),q,(function(n){return n.selected?null:"#f7f7f7"}),(function(n){return n.selected?"auto":"pointer"})),X=c.c.div(D()),Z=c.c.div(Y(),q),$=c.c.div(E()),nn=(c.c.div(R()),c.c.span(N(),q),function(n){var t=n.data,e=n.title,i=n.onCellClick,c=n.searchInputValue,o=n.onSearchInputChange,a=n.selectedValue;return Object(r.jsxs)(K,{children:[Object(r.jsx)(M,{children:Object(r.jsx)("h4",{children:e})}),Object(r.jsxs)(d.Fragment,{children:[Object(r.jsx)(Z,{children:Object(r.jsx)(an,{value:c,onChange:function(n){return o(n.target.value)}})}),Object(r.jsx)($,{children:t.length<=250&&0!==t.length?t.map((function(n,t){return Object(r.jsx)(Q,{selected:n.name===(null===a||void 0===a?void 0:a.name)&&n.stateCode===(null===a||void 0===a?void 0:a.stateCode),onClick:function(){return i(n)},children:Object(r.jsx)(rn,{title:n.name,subtitle:n.isoCode})},t)})):Object(r.jsx)(X,{children:Object(r.jsx)("span",{children:t.length>250?"Too much results. Please narrow your search.":"No results found..."})})})]})]})});function tn(){var n=Object(f.a)(["\n  width: 100%;\n  div {\n    span {\n      margin-right: 5px;\n      &:not(:first-child) {\n        background-color: #e0e0e0;\n        border-radius: 25px;\n        padding: 0 12px;\n      }\n    }\n  }\n"]);return tn=function(){return n},n}var en=c.c.div(tn()),rn=function(n){var t=n.title,e=n.subtitle;return Object(r.jsx)(en,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:t}),e&&Object(r.jsx)("span",{children:e})]})})};function cn(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  input {\n    padding: 8px;\n    width: 90%;\n  }\n"]);return cn=function(){return n},n}var on=c.c.div(cn()),an=function(n){var t=n.value,e=n.onChange;return Object(r.jsx)(on,{children:Object(r.jsx)("input",{placeholder:"Search...",value:t,onChange:e})})};function un(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  img {\n    height: 25px;\n  }\n"]);return un=function(){return n},n}function ln(){var n=Object(f.a)(["\n  margin-top: 5px;\n  p {\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n"]);return ln=function(){return n},n}function sn(){var n=Object(f.a)(["\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  h3 {\n    margin: 5px 0;\n    color: #d14d4d;\n    font-weight: 500;\n  }\n  span {\n    color: grey;\n  }\n  button {\n    margin-top: 5px;\n  }\n"]);return sn=function(){return n},n}var dn=c.c.div(sn()),fn=c.c.div(ln()),pn=c.c.p(un()),hn=e(17),jn=e.n(hn),bn=function(n){var t=n.weather,e=n.buttonTitle,i=n.onButtonClick;return Object(r.jsxs)(dn,{children:[Object(r.jsx)("h3",{children:"\ud83d\udccd ".concat(t.name,", ").concat(t.sys.country)}),Object(r.jsxs)(fn,{children:[Object(r.jsx)("span",{children:"Current weather:"}),Object(r.jsx)("p",{children:"\u2600\ufe0f ".concat(jn.a.unix(t.sys.sunrise).format("HH:mm")," - \ud83c\udf11 ").concat(jn.a.unix(t.sys.sunset).format("HH:mm"))}),Object(r.jsxs)(pn,{children:[t.weather[0].description.charAt(0).toUpperCase()+t.weather[0].description.slice(1),Object(r.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")})]}),Object(r.jsx)("p",{children:"Temperature: ".concat(t.main.temp," \xb0C, feels like: ").concat(t.main.feels_like," \xb0C")}),Object(r.jsx)("p",{children:"Wind speed: ".concat(t.wind.speed," \ud83d\udca8")}),Object(r.jsx)("p",{children:"Humidity: ".concat(t.main.humidity," \ud83d\udca7")})]}),Object(r.jsx)(B,{title:e,onClick:i})]})};function xn(){var n=Object(f.a)(["\n  color: black;\n  display: flex;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  border: 1px solid #e2e8f0;\n  div {\n    padding: 8px 16px;\n    margin: 5px;\n    border-radius: 26px;\n    background-color: #f7f7f7;\n    &:hover {\n      background-color: ",";\n      cursor: pointer;\n    }\n    span {\n      font-size: 14px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n  }\n"]);return xn=function(){return n},n}var mn=c.c.div(xn(),(function(n){return n.theme.colors.primary})),gn=function(n){var t=n.data,e=n.onCellClick;return Object(r.jsx)(mn,{children:t.map((function(n,t){return Object(r.jsx)("div",{onClick:function(){return e(n)},children:Object(r.jsx)("span",{children:n.name})},t)}))})},vn=e(11),On=e.n(vn),wn=function(n){return 0===Object.keys(n).length},yn=e(14),Cn=e(31),kn=e.n(Cn),Sn=function(n,t){return kn.a.get("".concat("http://api.openweathermap.org/data/2.5/weather?units=metric&","lat=").concat(n,"&lon=").concat(t,"&appid=").concat("8fd7d294b0ff55fc0754e9b221f3a560")).then((function(n){return n.data})).catch((function(){alert("Something went wrong with the weather.")}))},In={width:"70vw",height:"562px"},An={latitude:54.8985,longitude:23.9036},Tn=function(){var n=Object(d.useState)(0),t=Object(s.a)(n,2),e=t[0],i=t[1],c=Object(d.useState)(""),a=Object(s.a)(c,2),f=a[0],p=a[1],h=Object(d.useState)(""),j=Object(s.a)(h,2),b=j[0],x=j[1],m=0===e,g=Object(d.useState)({}),v=Object(s.a)(g,2),I=v[0],A=v[1],H=Object(d.useState)({}),L=Object(s.a)(H,2),V=L[0],F=L[1],J=Object(d.useState)({}),P=Object(s.a)(J,2),W=P[0],N=P[1],R=Object(d.useState)(An),E=Object(s.a)(R,2),Y=E[0],D=E[1],G=Object(d.useState)(JSON.parse(localStorage.getItem("fav-cities")||"[]")),U=Object(s.a)(G,2),_=U[0],q=U[1],K=function(){navigator.geolocation.getCurrentPosition(function(){var n=Object(l.a)(u.a.mark((function n(t){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return D({latitude:t.coords.latitude,longitude:t.coords.longitude}),n.t0=N,n.next=4,Sn(t.coords.latitude,t.coords.longitude);case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),(function(){return alert("Geolocation is not supported by this browser.")}),{enableHighAccuracy:!0,maximumAge:1e3})};Object(d.useEffect)((function(){Y===An&&K()}),[]);var M=m?On.a.getAllCountries().filter((function(n){return n.name.toLowerCase().includes(f.toLowerCase())})):[],Q=m&&(null===I||void 0===I?void 0:I.name)?On.a.getCitiesOfCountry(I.isoCode).filter((function(n){return n.name.toLowerCase().includes(b.toLowerCase())})):m?[]:On.a.getAllCities().filter((function(n){return n.name.toLowerCase().includes(f.toLowerCase())})),X=function(){var n=Object(l.a)(u.a.mark((function n(t,e){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("country"!==e){n.next=13;break}if(N({}),A(t),p(t.name),0!==On.a.getCitiesOfCountry(t.isoCode).length){n.next=11;break}return n.t0=N,n.next=8,Sn(t.latitude,t.longitude);case 8:n.t1=n.sent,(0,n.t0)(n.t1),F(t);case 11:n.next=30;break;case 13:if(m){n.next=23;break}return n.t2=N,n.next=17,Sn(t.latitude,t.longitude);case 17:n.t3=n.sent,(0,n.t2)(n.t3),F(t),p(t.name),n.next=30;break;case 23:return n.t4=N,n.next=26,Sn(t.latitude,t.longitude);case 26:n.t5=n.sent,(0,n.t4)(n.t5),F(t),x(t.name);case 30:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),Z=function(){var n=Object(l.a)(u.a.mark((function n(t){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:rn(),i(+t.currentTarget.id);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),$=function(){var n=Object(l.a)(u.a.mark((function n(t){var e,r,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.coordinates,r=e.latitude,i=e.longitude,cn(),rn(),n.t0=N,n.next=6,Sn(r,i);case 6:n.t1=n.sent,(0,n.t0)(n.t1),D({latitude:r,longitude:i});case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),tn=wn(I)&&wn(V)?{lat:Y.latitude,lng:Y.longitude}:!wn(I)&&wn(V)?{lat:+I.latitude,lng:+I.longitude}:wn(I)||wn(V)?wn(I)&&!wn(V)?{lat:+V.latitude,lng:+V.longitude}:{lat:An.latitude,lng:An.longitude}:{lat:+V.latitude,lng:+V.longitude},en=wn(I)&&wn(V)?16:!wn(I)&&wn(V)?8:16,rn=function(){p(""),x("")},cn=function(){F({}),A({})};return Object(r.jsxs)(d.Fragment,{children:[Object(r.jsx)(T,{}),Object(r.jsxs)(O,{children:[Object(r.jsxs)(w,{children:[Object(r.jsx)(B,{id:"0",title:"Choose by country",active:m,onClick:Z}),Object(r.jsx)(B,{onClick:function(){cn(),rn(),K()},withIcon:"\ud83e\udded"}),Object(r.jsx)(B,{id:"1",title:"Search by city",active:!m,onClick:Z})]}),_.length>0&&Object(r.jsxs)(S,{children:[Object(r.jsx)("h4",{children:"Your favorite cities:"}),Object(r.jsx)(gn,{data:_,onCellClick:$})]}),Object(r.jsxs)(C,{children:[Object(r.jsxs)(y,{children:[Object(r.jsx)(nn,{data:m?M:Q,title:m?"Countries":"Cities",onCellClick:function(n){X(n,m?"country":"city")},searchInputValue:f,onSearchInputChange:function(n){""!==b&&x(""),p(n)},selectedValue:m?I:V}),m&&!wn(I)&&Object(r.jsx)(nn,{data:Q,title:"".concat(null===I||void 0===I?void 0:I.name,"'s cities"),onCellClick:function(n){X(n,"city")},searchInputValue:b,onSearchInputChange:function(n){return x(n)},selectedValue:V})]}),Object(r.jsx)(k,{children:Object(r.jsxs)(yn.a,{mapContainerStyle:In,zoom:en,center:tn,children:[Object(r.jsx)(yn.c,{position:tn,onClick:Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=N,n.next=3,Sn(tn.lat,tn.lng);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})))}),!wn(W)&&Object(r.jsx)(d.Fragment,{children:Object(r.jsx)(yn.b,{position:tn,onCloseClick:function(){N({})},children:Object(r.jsx)(bn,{weather:W,onButtonClick:function(){var n=Object(o.a)(_),t=n.findIndex((function(n){return n.name===W.name}));if(t<0){var e={name:W.name,coordinates:{latitude:W.coord.lat,longitude:W.coord.lon}};n.push(e)}else n.splice(t,1);n.sort((function(n,t){return n.name>t.name?1:t.name>n.name?-1:0})),q(n),localStorage.setItem("fav-cities",JSON.stringify(n))},buttonTitle:_.some((function(n){return W.name===n.name}))?"Remove from favorites":"Add to favorites"})})})]})})]})]}),Object(r.jsx)(z,{})]})};function Hn(){var n=Object(f.a)(['\n    html {\n        font-family: "Poppins", sans-serif;\n    }\n    #root{\n        height:100vh;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n    body{\n        color: black;\n    }\n    h3, p{\n        margin:0;\n    }\n    * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n    }\n    input, button{\n        font-family: "Poppins", sans-serif;\n    }\n']);return Hn=function(){return n},n}var Ln=Object(c.b)(Hn());Object(i.render)(Object(r.jsxs)(c.a,{theme:{colors:{primary:"#1C9CF6",secondary:"#80caff"},transitionTime:"0.1s"},children:[Object(r.jsx)(Ln,{}),Object(r.jsx)(Tn,{})]}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.efb75ac8.chunk.js.map